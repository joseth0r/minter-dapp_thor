(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[835],{51707:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/claim",function(){return n(86988)}])},26930:function(e,t,n){"use strict";n.d(t,{R:function(){return d}});var r=n(85893),i=n(86509),a=n(84234),s=n(47903),l=n(10718),o=n(911),c=n(18137),u=n(77639);function d(e){var t=e.className,n=void 0===t?"":t,d=e.headlineText,h=void 0===d?"# Connect your wallet":d,p=e.bodyCopy,f=void 0===p?"You need to connect your wallet before proceeding.":p,m=(0,s.W)(),g=(0,l.G)("sm");return(0,r.jsx)("section",{className:(0,a.A)("standard-wrapper flex flex-col justify-center items-center min-h-screen",n),children:(0,r.jsxs)("div",{className:"mx-auto my-auto w-full text-center flex flex-col items-center",children:[(0,r.jsx)(i.Q,{headline:h,headlineClass:"headline-3",bodyCopy:f,bodyClass:"text-off-white",alignment:"center",bodyAlignment:"text-center",bodyMaxWidth:g?"500px":"200px"}),(0,r.jsx)("div",{className:"flex justify-center mt-8",children:(0,r.jsxs)("div",{className:"min-w-[250px] grid grid-cols-1 gap-y-3 mt-8 md:gap-y-5",ref:m,children:[(0,r.jsx)(o.o,{}),(0,r.jsx)(u.F,{}),(0,r.jsx)(c.v,{})]})})]})})}},30967:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(85893);function i(){return(0,r.jsxs)("div",{className:"loader-dot-flashing flex justify-center",children:[(0,r.jsx)("span",{className:"mx-2 rounded-full w-[8px] h-[8px] bg-white inline-block dot"}),(0,r.jsx)("span",{className:"mx-2 rounded-full w-[8px] h-[8px] bg-white inline-block dot"}),(0,r.jsx)("span",{className:"mx-2 rounded-full w-[8px] h-[8px] bg-white inline-block dot"}),(0,r.jsx)("span",{className:"mx-2 rounded-full w-[8px] h-[8px] bg-white inline-block dot"})]})}},55137:function(e,t,n){"use strict";n.d(t,{U:function(){return o}});var r=n(85893),i=n(29655),a=n(84234);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}function o(e){var t=e.content,n=e.className,s=void 0===n?"":n;return(0,r.jsx)(i.D,{className:(0,a.A)("markdown",s),components:{a:function(e){var t=l({},e);return t.href&&/https?/g.test(t.href)&&(t.target="_blank",t.rel="noopener noreferrer"),(0,r.jsx)("a",l({},t,{children:t.children}))}},children:t})}},5943:function(e,t,n){"use strict";n.d(t,{j:function(){return a}});var r=n(85893),i=n(84234);function a(e){var t=e.text,n=e.className;return(0,r.jsx)("div",{className:(0,i.A)("eyebrows block font-cta text-[13px] tracking-[0.15em] mb-8 uppercase",n),children:t})}},86509:function(e,t,n){"use strict";n.d(t,{Q:function(){return d}});var r=n(85893),i=n(47903),a=n(84234),s=n(10449),l=n(55137),o=n(5943);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}function d(e){var t=e.eyebrow,n=e.headline,c=e.bodyCopy,d=e.cta,h=e.maxWidth,p=e.alignment,f=void 0===p?"left":p,m=e.bodyAlignment,g=void 0===m?"text-left":m,v=e.bodyClass,x=void 0===v?"text-gray-medium":v,y=e.headlineClass,w=void 0===y?"headline-1":y,b=e.bodyMaxWidth,E=void 0===b?"500px":b,A=e.className,j=void 0===A?"":A,k=(0,i.W)();return(0,r.jsxs)("div",{ref:k,className:(0,a.A)("flex flex-col","center"===f?"items-center":"items-start","text-center"===g?"text-center":"text-left",j),style:{maxWidth:h},children:[t&&(0,r.jsx)(o.j,u({},t)),n&&(0,r.jsx)("div",{className:w,children:(0,r.jsx)(l.U,{className:"mb-8",content:n})}),c&&(0,r.jsx)("div",{className:(0,a.A)("text-justify",g,x),style:{maxWidth:E},children:(0,r.jsx)(l.U,{content:c})}),d&&(0,r.jsx)("div",{className:"mx-auto mt-8 w-full max-w-[500px]",children:(0,r.jsx)(s.z,u({},d,{className:"w-full text-gray-medium"}))})]})}},26645:function(e,t,n){"use strict";n.d(t,{c:function(){return o}});var r=n(67294),i=n(14671),a=n(38597),s=n(2591),l=(0,i.Z)((0,a.$e)({contracts:new Map},(function(e){return{setContract:function(t,n,r){return e((function(e){return t?(e.contracts.set(n,r),{contracts:new Map(e.contracts)}):{contracts:e.contracts}}))}}})));function o(e){var t=(0,s.$6)((function(e){return e.provider})),n=l(),i=n.contracts,a=n.setContract;return(0,r.useEffect)((function(){e&&t&&!i.has(e.address)&&a(t,e.address,e.withProvider(t))}),[e,i,a,t]),i.get(null===e||void 0===e?void 0:e.address)}},47903:function(e,t,n){"use strict";n.d(t,{W:function(){return l}});var r=n(67294),i=n(69671);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],s=!0,l=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);s=!0);}catch(o){l=!0,i=o}finally{try{s||null==n.return||n.return()}finally{if(l)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"animate-fade-up",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.threshold,l=void 0===a?.25:a,o=n.interval,c=void 0===o?175:o,u=(0,i.R)((function(t,n){var r=s(t,1)[0];(null===r||void 0===r?void 0:r.isIntersecting)&&(r.target.classList.add(e),n.disconnect())}),{threshold:l}),d=(0,r.useCallback)((function(e){if(e)if(u(e),t)e.style.opacity="0";else for(var n=e.children,r=0;r<n.length;r+=1){var i=n[r];i.style.opacity="0",i.style.animationDelay="".concat(c*r,"ms")}}),[u,c,t]);return d}},86988:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return W}});var r=n(34051),i=n.n(r),a=n(85893),s=n(67294),l=n(26038),o=n(26930),c=n(45754),u=n(2591),d=n(26645),h=n(70790),p=n(53714),f=n(7490),m=n(31413);var g=n(84234),v=n(55137),x=n(10449),y=function(e){var t=e.account,n=e.boredApes,r=e.mutantApes,i=e.selectedItems,s=e.totalClaimableItems,l=e.onClickClaim,o=e.onClickSelectAll,c=e.errorMessage,u=e.isMinting,d=i.length;return(0,a.jsxs)("div",{className:"bg-black/50 backdrop-blur-xl mx-auto md:py-4 border-t border-gray/20 w-full sticky bottom-0",children:[(0,a.jsx)("div",{className:"absolute font-cta text-white bg-red bottom-full px-4 overflow-hidden w-full text-center",children:c}),(0,a.jsxs)("div",{className:"flex-col md:flex-row flex px-4 py-2 md:py-0 justify-between standard-wrapper space-y-4 md:space-y-0",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"body-copy-xs font-cta w-full truncate",children:t}),(0,a.jsx)("div",{className:"block text-gray-light",children:s>0?"".concat(n," Bored Ape / ").concat(r," Mutant Ape claimable"):"All otherdeeds claimed"})]}),(0,a.jsxs)("div",{className:"flex items-stretch md:w-1/2 space-x-4",children:[(0,a.jsx)(x.z,{className:"flex-1",disabled:u||d===s,variant:"secondary",label:"Select All",callback:o}),(0,a.jsx)(x.z,{className:"flex-1",disabled:u||d<=0,variant:"primary",label:u?"Minting otherdeeds...":"Claim ".concat(d," Otherdeed").concat(d>1?"s":""),callback:l})]})]})]})},w=n(77521),b=n(30967);function E(e){var t=e.token,n=e.onChange,r=e.isSelected,i=e.isMinting;return(0,a.jsx)("div",{onClick:t.claimed||i?void 0:function(){n(t)},className:"mt-8 grow-0 md:basis-1/3 xl:basis-1/4 md:mt-0 select-none relative",children:(0,a.jsxs)(w.Z,{glareEnable:!0,glareMaxOpacity:.25,glareColor:t.claimed?"yellow":r?"red":"white",glarePosition:"all",perspective:3e3,scale:1.05,transitionSpeed:1200,className:(0,g.A)("preserve-3d p-1 bg-gray-dark-2 border-transparent",t.claimed?"cursor-default bg-[#244144]":"cursor-pointer",r&&"bg-[#5D3221] shadow-card shadow-[#5D3221]",i&&"bg-blue-dark shadow-card shadow-bluebg-blue-dark"),children:[(0,a.jsx)("div",{className:"h-0 pt-[137%] relative",children:(0,a.jsx)("img",{className:"absolute w-full h-full top-0 left-0 mix-blend-overlay",src:"/assets/card-back.png",alt:""})}),(0,a.jsx)("div",{className:"text-center absolute bottom-4 left-1/2",style:{transform:"translate3d(-50%, 0%, 20px)"},children:(0,a.jsxs)("p",{className:"cta mb-5",children:[t.key," #",t.id]})}),t.claimed&&(0,a.jsx)("div",{className:"absolute left-1/2 top-8 text-center font-cta uppercase tracking-[0.1em] text-green-validation",style:{transform:"translate3d(-50%, 0%, 20px)"},children:"Claimed"}),i&&(0,a.jsxs)("div",{className:"absolute top-8 left-1/2 -translate-x-1/2 font-cta uppercase tracking-[0.1em] whitespace-nowrap space-y-4",children:[(0,a.jsx)("div",{children:"Claiming land"}),(0,a.jsx)(b.Z,{})]})]})})}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e){var t;if("function"===typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}function k(e,t,n,r,i,a,s){try{var l=e[a](s),o=l.value}catch(c){return void n(c)}l.done?t(o):Promise.resolve(o).then(r,i)}function N(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){k(a,r,i,s,l,"next",e)}function l(e){k(a,r,i,s,l,"throw",e)}s(void 0)}))}}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],s=!0,l=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);s=!0);}catch(o){l=!0,i=o}finally{try{s||null==n.return||n.return()}finally{if(l)throw i}}return a}}(e,t)||O(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||O(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){if(e){if("string"===typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}var C,S=["1 BAYC = 1 OTHERDEED","1 MAYC = 1 OTHERDEED","There is no distinction between Mutant Ape types for the claim.","Unused Bored Ape Chemistry Club serums do not qualify for claim.","An Otherdeed can only be claimed once per BAYC or MAYC NFT. In order to check whether a certain BAYC or MAYC has claimed, use [this checker](https://otherside.xyz/nft-checker).","There will be ETH network gas fees incurred to claim land."],L=function(e,t){return function(n){return{id:n,key:e,claimed:t.includes(n)}}};function T(e,t,n,r,i,a,s){try{var l=e[a](s),o=l.value}catch(c){return void n(c)}l.done?t(o):Promise.resolve(o).then(r,i)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){T(a,r,i,s,l,"next",e)}function l(e){T(a,r,i,s,l,"throw",e)}s(void 0)}))}}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.Loading="LOADING",e.NotConnected="NOT_CONNECTED",e.NoTokens="NO_TOKENS",e.Active="ACTIVE",e.NotActive="NOT_ACTIVE"}(C||(C={}));var X,z=Object.freeze((Y(X={},C.NotConnected,o.R),Y(X,C.Active,(function(e){var t=e.tokens,n=function(e){var t=O.includes(e)?O.filter((function(t){return t!==e})):M(O).concat([e]);C(t)},r=(0,u.$6)((function(e){return e.provider})),l=(0,u.$6)((function(e){return e.account})),o=(0,d.c)(h.yt),c=P(t,2),p=c[0],f=c[1],m=(0,s.useState)([]),x=m[0],w=m[1],b=x.filter((function(e){return e.claimed})),A=x.length-b.length,k=(0,s.useState)([]),O=k[0],C=k[1],T=(0,s.useState)([]),I=T[0],Y=T[1],X=I.length>0,z=(0,s.useState)(""),W=z[0],$=z[1];function D(){return(D=N(i().mark((function e(){var t,n,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&o){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,t=r.getSigner(),n=o.connect(t),a=O.filter((function(e){return e.key===h.Q6.name})).map((function(e){return Number(e.id)})),s=O.filter((function(e){return e.key===h.ev.name})).map((function(e){return Number(e.id)})),e.next=9,null===n||void 0===n?void 0:n.nftOwnerClaimLand(a,s);case 9:Y(O),C([]),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),Y([]),$(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}return(0,s.useEffect)((function(){function e(e,n){return t.apply(this,arguments)}function t(){return(t=N(i().mark((function e(t,n){var r,a,s,c,u,d,m,g,v,x,y,b,E,A,k,N,P,O,C,S;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n===l){e.next=2;break}return e.abrupt("return");case 2:if(o&&(null===h.Q6||void 0===h.Q6?void 0:h.Q6.name)&&(null===h.ev||void 0===h.ev?void 0:h.ev.name)){e.next=4;break}return e.abrupt("return");case 4:r=[],a=[],s=!1,c=!1,e.prev=7,d=j(p);case 9:return e.next=11,d.next();case 11:if(!(s=!(m=e.sent).done)){e.next=21;break}return g=m.value,v=g,e.next=16,null===o||void 0===o?void 0:o.alphaClaimed(v);case 16:(x=e.sent)&&(r.push(v),Y((function(e){return e.filter((function(e){return e.id===x}))})));case 18:s=!1,e.next=9;break;case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(7),c=!0,u=e.t0;case 27:if(e.prev=27,e.prev=28,!s||null==d.return){e.next=32;break}return e.next=32,u.return();case 32:if(e.prev=32,!c){e.next=35;break}throw u;case 35:return e.finish(32);case 36:return e.finish(27);case 37:y=!1,b=!1,e.prev=38,A=j(f);case 40:return e.next=42,A.next();case 42:if(!(y=!(k=e.sent).done)){e.next=52;break}return N=k.value,P=N,e.next=47,null===o||void 0===o?void 0:o.betaClaimed(P);case 47:(O=e.sent)&&(a.push(P),Y((function(e){return e.filter((function(e){return e.id===O}))})));case 49:y=!1,e.next=40;break;case 52:e.next=58;break;case 54:e.prev=54,e.t1=e.catch(38),b=!0,E=e.t1;case 58:if(e.prev=58,e.prev=59,!y||null==A.return){e.next=63;break}return e.next=63,E.return();case 63:if(e.prev=63,!b){e.next=66;break}throw E;case 66:return e.finish(63);case 67:return e.finish(58);case 68:C=p.map(L(null===h.Q6||void 0===h.Q6?void 0:h.Q6.name,r)),S=f.map(L(null===h.ev||void 0===h.ev?void 0:h.ev.name,a)),w(M(C).concat(M(S)));case 71:case"end":return e.stop()}}),e,null,[[7,23,27,37],[28,,32,36],[38,54,58,68],[59,,63,67]])})))).apply(this,arguments)}return e("0x00",l),null===o||void 0===o||o.on("Transfer",e),function(){null===o||void 0===o||o.removeAllListeners()}}),[l,o,p,f]),(0,a.jsxs)("div",{className:"md:min-h-screen",children:[(0,a.jsx)("div",{className:(0,g.A)("md:pt-32 gap-8 grid grid-cols-2 animate-fade-up standard-wrapper",x.length<5?"lg:flex lg:justify-center mobile:mt-16 mb-24":"lg:grid sm:grid-cols-3 xl:grid-cols-4 mb-16"),children:x.map((function(e){return(0,a.jsx)(E,{isMinting:I.some((function(t){return t.key===e.key&&t.id===e.id})),isSelected:O.some((function(t){return t.key===e.key&&t.id===e.id})),onChange:n,token:e},e.key+e.id)}))}),(0,a.jsx)(y,{account:l,boredApes:p.length,mutantApes:f.length,totalClaimableItems:A,selectedItems:O,onClickClaim:function(){return D.apply(this,arguments)},onClickSelectAll:function(){C(x.filter((function(e){return!e.claimed})).map((function(e){return e})))},errorMessage:W,isMinting:X}),(0,a.jsx)("div",{className:"standard-wrapper",children:(0,a.jsx)("ul",{className:"claim-disclaimer mt-8 list-disc ml-5 md:ml-3",children:S.map((function(e,t){return(0,a.jsx)("li",{className:"legal-text text-gray-legal",children:(0,a.jsx)(v.U,{content:e})},"legal-paragraph-".concat(t))}))})})]})})),Y(X,C.NoTokens,(function(){return(0,a.jsxs)("div",{className:"text-center min-h-screen flex flex-col justify-center px-5",children:[(0,a.jsx)("h3",{className:"headline-5 mb-4",children:"No Tokens Found"}),(0,a.jsx)("p",{children:"You must own a Bored Ape or Mutant Ape in order to claim land"})]})})),Y(X,C.NotActive,(function(){return(0,a.jsx)("div",{className:"variable-height min-h-screen flex flex-col justify-center",children:(0,a.jsx)("h1",{className:"headline-4 text-center m-auto mobile:max-w-[260px]",children:"Otherdeeds are currently not claimable"})})})),Y(X,C.Loading,(function(){return(0,a.jsx)("div",{className:"m-auto",children:(0,a.jsx)(b.Z,{})})})),X)),W=function(){var e=(0,u.$6)((function(e){return e.account})),t=(0,d.c)(h.yt),n=(0,d.c)(h.Q6),r=(0,d.c)(h.ev),l=(0,s.useState)([]),o=l[0],g=l[1],v=(0,s.useState)(C.Loading),x=v[0],y=v[1],w=z[x];return(0,s.useEffect)((function(){function a(){return(a=I(i().mark((function a(){var s,l;return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(t&&n&&r){i.next=2;break}return i.abrupt("return");case 2:return i.prev=2,i.next=5,t.claimableActive();case 5:if(i.sent){i.next=10;break}y(C.NotActive),i.next=21;break;case 10:if(e){i.next=14;break}y(C.NotConnected),i.next=21;break;case 14:return i.next=16,(0,f.j)(n,e);case 16:return s=i.sent,i.next=19,(0,f.j)(r,e);case 19:l=i.sent,(0,p.xb)(s)&&(0,p.xb)(l)?y(C.NoTokens):(y(C.Active),g([s,l]));case 21:i.next=26;break;case 23:i.prev=23,i.t0=i.catch(2),console.error(i.t0);case 26:case"end":return i.stop()}}),a,null,[[2,23]])})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()}),[e,t,n,r]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(R,{children:(0,a.jsx)(m.M,{transitionKey:x,timeout:750,onEnter:$,onExit:D,children:(0,a.jsx)(w,{tokens:o})})}),(0,a.jsx)(c.$,{})]})};function $(e){l.p8.from(e,{duration:.75,autoAlpha:0})}function D(e){l.p8.to(e,{duration:.75,autoAlpha:0})}function R(e){var t=e.children;return(0,a.jsx)("div",{className:"min-h-screen flex flex-col",children:t})}},69671:function(e,t,n){"use strict";n.d(t,{R:function(){return i}});var r=n(67294);var i=(e,{root:t,rootMargin:n,threshold:i}={},a=[])=>{const s=(0,r.useRef)(null),l=(0,r.useRef)(null);return(0,r.useCallback)((r=>{s.current&&l.current&&(l.current.unobserve(s.current),l.current.disconnect(),l.current=null),r&&(l.current=new IntersectionObserver(e,{root:t,rootMargin:n,threshold:i}),l.current.observe(r),s.current=r)}),[s,t,n,JSON.stringify(i),...a])}},77521:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(67294);function i(e,t,n,r){e.style.transition=`${t} ${n}ms ${r}`}function a(e,t,n){return Math.min(Math.max(e,t),n)}class s{constructor(e,t){this.glareAngle=0,this.glareOpacity=0,this.calculateGlareSize=e=>{const{width:t,height:n}=e,r=Math.sqrt(Math.pow(t,2)+Math.pow(n,2));return{width:r,height:r}},this.setSize=e=>{const t=this.calculateGlareSize(e);this.glareEl.style.width=`${t.width}px`,this.glareEl.style.height=`${t.height}px`},this.update=(e,t,n,r)=>{this.updateAngle(e,t.glareReverse),this.updateOpacity(e,t,n,r)},this.updateAngle=(e,t)=>{const{xPercentage:n,yPercentage:r}=e,i=180/Math.PI,a=n?Math.atan2(r,-n)*i:0;this.glareAngle=a-(t?180:0)},this.updateOpacity=(e,t,n,r)=>{const{xPercentage:i,yPercentage:s}=e,{glarePosition:l,glareReverse:o,glareMaxOpacity:c}=t,u=n?-1:1,d=r?-1:1,h=o?-1:1;let p;switch(l){case"top":p=-i*u*h;break;case"right":p=s*d*h;break;case"bottom":default:p=i*u*h;break;case"left":p=-s*d*h;break;case"all":p=Math.hypot(i,s)}const f=a(p,0,100);this.glareOpacity=f*c/100},this.render=e=>{const{glareColor:t}=e;this.glareEl.style.transform=`rotate(${this.glareAngle}deg) translate(-50%, -50%)`,this.glareEl.style.opacity=this.glareOpacity.toString(),this.glareEl.style.background=`linear-gradient(0deg, rgba(255,255,255,0) 0%, ${t} 100%)`},this.glareWrapperEl=document.createElement("div"),this.glareEl=document.createElement("div"),this.glareWrapperEl.appendChild(this.glareEl),this.glareWrapperEl.className="glare-wrapper",this.glareEl.className="glare";const n={position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden",borderRadius:t,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},r=this.calculateGlareSize(e),i={position:"absolute",top:"50%",left:"50%",transformOrigin:"0% 0%",pointerEvents:"none",width:`${r.width}px`,height:`${r.height}px`};Object.assign(this.glareWrapperEl.style,n),Object.assign(this.glareEl.style,i)}}class l{constructor(){this.glareAngle=0,this.glareOpacity=0,this.tiltAngleX=0,this.tiltAngleY=0,this.tiltAngleXPercentage=0,this.tiltAngleYPercentage=0,this.update=(e,t)=>{this.updateTilt(e,t),this.updateTiltManualInput(e,t),this.updateTiltReverse(t),this.updateTiltLimits(t)},this.updateTilt=(e,t)=>{const{xPercentage:n,yPercentage:r}=e,{tiltMaxAngleX:i,tiltMaxAngleY:a}=t;this.tiltAngleX=n*i/100,this.tiltAngleY=r*a/100*-1},this.updateTiltManualInput=(e,t)=>{const{tiltAngleXManual:n,tiltAngleYManual:r,tiltMaxAngleX:i,tiltMaxAngleY:a}=t;(null!==n||null!==r)&&(this.tiltAngleX=null!==n?n:0,this.tiltAngleY=null!==r?r:0,e.xPercentage=100*this.tiltAngleX/i,e.yPercentage=100*this.tiltAngleY/a)},this.updateTiltReverse=e=>{const t=e.tiltReverse?-1:1;this.tiltAngleX=t*this.tiltAngleX,this.tiltAngleY=t*this.tiltAngleY},this.updateTiltLimits=e=>{const{tiltAxis:t}=e;this.tiltAngleX=a(this.tiltAngleX,-90,90),this.tiltAngleY=a(this.tiltAngleY,-90,90),t&&(this.tiltAngleX="x"===t?this.tiltAngleX:0,this.tiltAngleY="y"===t?this.tiltAngleY:0)},this.updateTiltAnglesPercentage=e=>{const{tiltMaxAngleX:t,tiltMaxAngleY:n}=e;this.tiltAngleXPercentage=this.tiltAngleX/t*100,this.tiltAngleYPercentage=this.tiltAngleY/n*100},this.render=e=>{e.style.transform+=`rotateX(${this.tiltAngleX}deg) rotateY(${this.tiltAngleY}deg) `}}}const o=Object.assign(Object.assign({scale:1,perspective:1e3,flipVertically:!1,flipHorizontally:!1,reset:!0,transitionEasing:"cubic-bezier(.03,.98,.52,.99)",transitionSpeed:400,trackOnWindow:!1,gyroscope:!1},{tiltEnable:!0,tiltReverse:!1,tiltAngleXInitial:0,tiltAngleYInitial:0,tiltMaxAngleX:20,tiltMaxAngleY:20,tiltAxis:null,tiltAngleXManual:null,tiltAngleYManual:null}),{glareEnable:!1,glareMaxOpacity:.7,glareColor:"#ffffff",glarePosition:"bottom",glareReverse:!1,glareBorderRadius:"0"});class c extends r.PureComponent{constructor(){super(...arguments),this.wrapperEl={node:null,size:{width:0,height:0,left:0,top:0},clientPosition:{x:null,y:null,xPercentage:0,yPercentage:0},updateAnimationId:null,scale:1},this.tilt=null,this.glare=null,this.addDeviceOrientationEventListener=()=>function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{o(r.next(e))}catch(e){a(e)}}function l(e){try{o(r.throw(e))}catch(e){a(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,l)}o((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){if(window.DeviceOrientationEvent,"function"==typeof DeviceOrientationEvent.requestPermission)try{return void("granted"===(yield DeviceOrientationEvent.requestPermission())&&window.addEventListener("deviceorientation",this.onMove))}catch(e){return void console.error(e)}window.addEventListener("deviceorientation",this.onMove)})),this.setSize=()=>{this.setWrapperElSize(),this.glare&&this.glare.setSize(this.wrapperEl.size)},this.mainLoop=e=>{null!==this.wrapperEl.updateAnimationId&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.processInput(e),this.update(e.type),this.wrapperEl.updateAnimationId=requestAnimationFrame(this.renderFrame)},this.onEnter=e=>{const{onEnter:t}=this.props;this.setSize(),this.wrapperEl.node.style.willChange="transform",this.setTransitions(),t&&t(e.type)},this.onMove=e=>{this.mainLoop(e),this.emitOnMove(e)},this.onLeave=e=>{const{onLeave:t}=this.props;if(this.setTransitions(),t&&t(e.type),this.props.reset){const e=new CustomEvent("autoreset");this.onMove(e)}},this.processInput=e=>{const{scale:t}=this.props;switch(e.type){case"mousemove":this.wrapperEl.clientPosition.x=e.pageX,this.wrapperEl.clientPosition.y=e.pageY,this.wrapperEl.scale=t;break;case"touchmove":this.wrapperEl.clientPosition.x=e.touches[0].pageX,this.wrapperEl.clientPosition.y=e.touches[0].pageY,this.wrapperEl.scale=t;break;case"deviceorientation":this.processInputDeviceOrientation(e),this.wrapperEl.scale=t;break;case"autoreset":const{tiltAngleXInitial:n,tiltAngleYInitial:r,tiltMaxAngleX:i,tiltMaxAngleY:s}=this.props,l=r/s*100;this.wrapperEl.clientPosition.xPercentage=a(n/i*100,-100,100),this.wrapperEl.clientPosition.yPercentage=a(l,-100,100),this.wrapperEl.scale=1}},this.processInputDeviceOrientation=e=>{if(!e.gamma||!e.beta||!this.props.gyroscope)return;const{tiltMaxAngleX:t,tiltMaxAngleY:n}=this.props,r=e.gamma;this.wrapperEl.clientPosition.xPercentage=e.beta/t*100,this.wrapperEl.clientPosition.yPercentage=r/n*100,this.wrapperEl.clientPosition.xPercentage=a(this.wrapperEl.clientPosition.xPercentage,-100,100),this.wrapperEl.clientPosition.yPercentage=a(this.wrapperEl.clientPosition.yPercentage,-100,100)},this.update=e=>{const{tiltEnable:t,flipVertically:n,flipHorizontally:r}=this.props;"autoreset"!==e&&"deviceorientation"!==e&&"propChanged"!==e&&this.updateClientInput(),t&&this.tilt.update(this.wrapperEl.clientPosition,this.props),this.updateFlip(),this.tilt.updateTiltAnglesPercentage(this.props),this.glare&&this.glare.update(this.wrapperEl.clientPosition,this.props,n,r)},this.updateClientInput=()=>{const{trackOnWindow:e}=this.props;let t,n;if(e){const{x:e,y:r}=this.wrapperEl.clientPosition;t=r/window.innerHeight*200-100,n=e/window.innerWidth*200-100}else{const{size:{width:e,height:r,left:i,top:a},clientPosition:{x:s,y:l}}=this.wrapperEl;t=(l-a)/r*200-100,n=(s-i)/e*200-100}this.wrapperEl.clientPosition.xPercentage=a(t,-100,100),this.wrapperEl.clientPosition.yPercentage=a(n,-100,100)},this.updateFlip=()=>{const{flipVertically:e,flipHorizontally:t}=this.props;e&&(this.tilt.tiltAngleX+=180,this.tilt.tiltAngleY*=-1),t&&(this.tilt.tiltAngleY+=180)},this.renderFrame=()=>{this.resetWrapperElTransform(),this.renderPerspective(),this.tilt.render(this.wrapperEl.node),this.renderScale(),this.glare&&this.glare.render(this.props)}}componentDidMount(){this.tilt=new l,this.initGlare(),this.addEventListeners();const e=new CustomEvent("autoreset");this.mainLoop(e);const t=new CustomEvent("initial");this.emitOnMove(t)}componentWillUnmount(){null!==this.wrapperEl.updateAnimationId&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.removeEventListeners()}componentDidUpdate(){const e=new CustomEvent("propChanged");this.mainLoop(e)}addEventListeners(){const{trackOnWindow:e,gyroscope:t}=this.props;window.addEventListener("resize",this.setSize),e&&(window.addEventListener("mouseenter",this.onEnter),window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseout",this.onLeave),window.addEventListener("touchstart",this.onEnter),window.addEventListener("touchmove",this.onMove),window.addEventListener("touchend",this.onLeave)),t&&this.addDeviceOrientationEventListener()}removeEventListeners(){const{trackOnWindow:e,gyroscope:t}=this.props;window.removeEventListener("resize",this.setSize),e&&(window.removeEventListener("mouseenter",this.onEnter),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseout",this.onLeave),window.removeEventListener("touchstart",this.onEnter),window.removeEventListener("touchmove",this.onMove),window.removeEventListener("touchend",this.onLeave)),t&&window.DeviceOrientationEvent&&window.removeEventListener("deviceorientation",this.onMove)}setWrapperElSize(){const e=this.wrapperEl.node.getBoundingClientRect();this.wrapperEl.size.width=this.wrapperEl.node.offsetWidth,this.wrapperEl.size.height=this.wrapperEl.node.offsetHeight,this.wrapperEl.size.left=e.left+window.scrollX,this.wrapperEl.size.top=e.top+window.scrollY}initGlare(){const{glareEnable:e,glareBorderRadius:t}=this.props;e&&(this.glare=new s(this.wrapperEl.size,t),this.wrapperEl.node.appendChild(this.glare.glareWrapperEl))}emitOnMove(e){const{onMove:t}=this.props;if(!t)return;let n=0,r=0;this.glare&&(n=this.glare.glareAngle,r=this.glare.glareOpacity),t(this.tilt.tiltAngleX,this.tilt.tiltAngleY,this.tilt.tiltAngleXPercentage,this.tilt.tiltAngleYPercentage,n,r,e.type)}resetWrapperElTransform(){this.wrapperEl.node.style.transform=""}renderPerspective(){const{perspective:e}=this.props;this.wrapperEl.node.style.transform+=`perspective(${e}px) `}renderScale(){const{scale:e}=this.wrapperEl;this.wrapperEl.node.style.transform+=`scale3d(${e},${e},${e})`}setTransitions(){const{transitionSpeed:e,transitionEasing:t}=this.props;i(this.wrapperEl.node,"all",e,t),this.glare&&i(this.glare.glareEl,"opacity",e,t)}render(){const{children:e,className:t,style:n}=this.props;return r.createElement("div",{ref:e=>this.wrapperEl.node=e,onMouseEnter:this.onEnter,onMouseMove:this.onMove,onMouseLeave:this.onLeave,onTouchStart:this.onEnter,onTouchMove:this.onMove,onTouchEnd:this.onLeave,className:t,style:n},e)}}c.defaultProps=o}},function(e){e.O(0,[655,440,790,774,888,179],(function(){return t=51707,e(e.s=t);var t}));var t=e.O();_N_E=t}]);