(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[228],{81240:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/buy",function(){return n(88367)}])},26930:function(e,t,n){"use strict";n.d(t,{R:function(){return u}});var r=n(85893),a=n(86509),i=n(84234),s=n(47903),c=n(10718),l=n(911),o=n(18137),d=n(77639);function u(e){var t=e.className,n=void 0===t?"":t,u=e.headlineText,m=void 0===u?"# Connect your wallet":u,f=e.bodyCopy,x=void 0===f?"You need to connect your wallet before proceeding.":f,p=(0,s.W)(),h=(0,c.G)("sm");return(0,r.jsx)("section",{className:(0,i.A)("standard-wrapper flex flex-col justify-center items-center min-h-screen",n),children:(0,r.jsxs)("div",{className:"mx-auto my-auto w-full text-center flex flex-col items-center",children:[(0,r.jsx)(a.Q,{headline:m,headlineClass:"headline-3",bodyCopy:x,bodyClass:"text-off-white",alignment:"center",bodyAlignment:"text-center",bodyMaxWidth:h?"500px":"200px"}),(0,r.jsx)("div",{className:"flex justify-center mt-8",children:(0,r.jsxs)("div",{className:"min-w-[250px] grid grid-cols-1 gap-y-3 mt-8 md:gap-y-5",ref:p,children:[(0,r.jsx)(l.o,{}),(0,r.jsx)(d.F,{}),(0,r.jsx)(o.v,{})]})})]})})}},30967:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(85893);function a(){return(0,r.jsxs)("div",{className:"loader-dot-flashing flex justify-center",children:[(0,r.jsx)("span",{className:"mx-2 rounded-full w-[8px] h-[8px] bg-white inline-block dot"}),(0,r.jsx)("span",{className:"mx-2 rounded-full w-[8px] h-[8px] bg-white inline-block dot"}),(0,r.jsx)("span",{className:"mx-2 rounded-full w-[8px] h-[8px] bg-white inline-block dot"}),(0,r.jsx)("span",{className:"mx-2 rounded-full w-[8px] h-[8px] bg-white inline-block dot"})]})}},26645:function(e,t,n){"use strict";n.d(t,{c:function(){return l}});var r=n(67294),a=n(14671),i=n(38597),s=n(92727),c=(0,a.Z)((0,i.$e)({contracts:new Map},(function(e){return{setContract:function(t,n,r){return e((function(e){return t?(e.contracts.set(n,r),{contracts:new Map(e.contracts)}):{contracts:e.contracts}}))}}})));function l(e){var t=(0,s.$6)((function(e){return e.provider})),n=c(),a=n.contracts,i=n.setContract;return(0,r.useEffect)((function(){e&&t&&!a.has(e.address)&&i(t,e.address,e.withProvider(t))}),[e,a,i,t]),a.get(null===e||void 0===e?void 0:e.address)}},88367:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ie}});var r=n(85893),a=n(67294),i=n(26038),s=n(31413),c=n(26930),l=n(30967);var o=n(86509);var d=n(10449),u=n(28442);var m,f=n(35147),x=n(99477),p=n(70812),h=n(28226),v=n(34051),b=n.n(v),y=n(56371),N=n(70790),j=n(26645),w=n(92727);function T(e,t,n,r,a,i,s){try{var c=e[i](s),l=c.value}catch(o){return void n(o)}c.done?t(l):Promise.resolve(l).then(r,a)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){T(i,r,a,s,c,"next",e)}function c(e){T(i,r,a,s,c,"throw",e)}s(void 0)}))}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){g(e,t,n[t])}))}return e}!function(e){e.Error="ERROR",e.NotConnected="NOT_CONNECTED",e.NotActive="NOT_ACTIVE",e.Active="ACTIVE",e.Minting="MINTING",e.Minted="MINTED",e.SoldOut="SOLD_OUT",e.Loading="LOADING"}(m||(m={}));var E=a.createContext(void 0);function P(e,t){switch(t.type){case"ERROR":return A({},e,{status:m.Error});case"NOT_CONNECTED":return A({},e,{status:m.NotConnected});case"STATUS_SOLD_OUT":return A({},e,{status:m.SoldOut});case"STATUS_INACTIVE":return A({},e,{status:m.NotActive});case"STATUS_ACTIVE":return A({},e,{status:m.Active});case"STATUS_MINTING":return A({},e,{status:m.Minting});case"STATUS_MINTED":return A({},e,{status:m.Minted,mintedAmount:t.payload.mintedAmount,mintedPrice:t.payload.mintedPrice});case"SET_MINT_PRICE":return A({},e,{mintPrice:t.payload});case"APE_ETH_PRICE":return A({},e,{apeToEth:t.payload});case"SET_QUANTITY":return A({},e,{mintQuantity:t.payload});case"CURRENT_MINTED":return A({},e,{mintedTotal:t.payload});case"HYDRATE":return A({},e,{hydrated:!0,apeBalance:t.payload.apeBalance,apeAllowance:t.payload.apeAllowance,mintPrice:t.payload.mintPrice,maxMintableTx:t.payload.maxMintableTx,maxMintableByAddress:t.payload.maxMintableByAddress,mintedPerAddress:t.payload.mintedPerAddress,mintedTotal:t.payload.mintedTotal,maxPublicSale:t.payload.maxPublicSale});default:throw new Error("Unhandled action type in landSaleReducer")}}function O(e){var t=e.children,n=(0,a.useReducer)(P,{status:m.Loading,hydrated:!1,apeBalance:0,apeAllowance:0,apeToEth:0,maxMintableTx:1,maxMintableByAddress:1,mintedPerAddress:0,mintQuantity:1,mintPrice:0,mintedAmount:0,mintedPrice:0,mintedTotal:0,maxPublicSale:0}),i=n[0],s=n[1],c=(0,w.$6)((function(e){return e.account})),l=(0,j.c)(N.yt),o=(0,j.c)(N.G9),d=a.useCallback(S(b().mark((function e(){var t,n,r,a,i,d,u,m,f,x,p,h,v,N,j,w;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===l||void 0===l?void 0:l.publicSaleActive();case 3:if(!e.sent){e.next=44;break}if(c){e.next=8;break}return s({type:"NOT_CONNECTED"}),e.abrupt("return");case 8:return e.next=10,null===l||void 0===l?void 0:l.getMintPrice();case 10:return t=e.sent,e.next=13,null===l||void 0===l?void 0:l.maxMintPerTx();case 13:return n=e.sent,e.next=16,null===l||void 0===l?void 0:l.maxMintPerAddress();case 16:return r=e.sent,e.next=19,null===l||void 0===l?void 0:l.mintedPerAddress(c);case 19:return a=e.sent,e.next=22,null===l||void 0===l?void 0:l.currentNumLandsMintedPublicSale();case 22:return i=e.sent,e.next=25,null===l||void 0===l?void 0:l.MAX_PUBLIC_SALE_AMOUNT();case 25:return d=e.sent,e.next=28,null===o||void 0===o?void 0:o.balanceOf(c);case 28:return u=e.sent,e.next=31,null===o||void 0===o?void 0:o.allowance(c,null===l||void 0===l?void 0:l.address);case 31:m=e.sent,f=Number((0,y.formatUnits)(t,18)),x=Number(n.toString()),p=Number(r.toString()),h=Number(a.toString()),v=Number((0,y.formatUnits)(u,18)),N=Number((0,y.formatUnits)(m,18)),j=Number(i.toString()),w=Number(d.toString()),s({type:"HYDRATE",payload:{apeBalance:v,apeAllowance:N,mintPrice:f,maxMintableTx:x,maxMintableByAddress:p,mintedPerAddress:h,mintedTotal:j,maxPublicSale:w}}),s(j>=w?{type:"STATUS_SOLD_OUT"}:{type:"STATUS_ACTIVE"}),e.next=45;break;case 44:s({type:"STATUS_INACTIVE"});case 45:e.next=51;break;case 47:e.prev=47,e.t0=e.catch(0),console.error(e.t0),s({type:"ERROR"});case 51:case"end":return e.stop()}}),e,null,[[0,47]])}))),[c,o,l]);if((0,a.useEffect)((function(){if(l&&o)return d(),null===l||void 0===l||l.on("PublicSaleMint",(function(t,n,r){return e.apply(this,arguments)})),null===l||void 0===l||l.on("LandPublicSaleStart",d),null===l||void 0===l||l.on("LandPublicSaleStop",d),function(){null===l||void 0===l||l.removeAllListeners()};function e(){return(e=S(b().mark((function e(t,n,r){var a,i,o;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===l||void 0===l?void 0:l.currentNumLandsMintedPublicSale();case 2:a=e.sent,s({type:"CURRENT_MINTED",payload:Number(a.toString())}),t===c&&(i=n,o=Number((0,y.formatUnits)(r,18))*i,s({type:"STATUS_MINTED",payload:{mintedAmount:i,mintedPrice:o}}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}),[c,l,o,d]),!l)return null;var u={contract:l,state:i,dispatch:s};return(0,r.jsx)(E.Provider,{value:u,children:t})}function C(){var e=a.useContext(E);if(!e)throw new Error("useLandSaleContext must be used in LandSaleProvider");return e}function _(){window.location.reload()}var M=function(){var e=(0,a.useRef)(null);(0,f.xQ)((function(t){var n=t.mouse;e.current&&(e.current.rotation.z=x.MathUtils.mapLinear(n.x,-1,1,-.5,.5),e.current.rotation.x=x.MathUtils.mapLinear(n.y,-1,1,-.5,.5))}));var t=(0,a.useCallback)((function(e){var t=e.vertexShader;return t=(t="attribute float tOffset;\nvarying float tOff;\nuniform float uTime;\n".concat(t)).replace("#include <begin_vertex>",["tOff = tOffset;","float vTime = mod((uTime + pow(tOff * 3., 2.)) * 39., 175.);","float posY = -100. + vTime;","vec3 transformed = vec3( position.x, posY, position.z );"].join("\n"))}),[]),n=(0,a.useCallback)((function(e){var t=e.fragmentShader;return t=(t="uniform float uTime;\nvarying float tOff;\n".concat(t)).replace("vec4 diffuseColor = vec4( diffuse, opacity );","vec4 diffuseColor = vec4( diffuse, max(0.2, sin(0.6 * tOff + tOff)) * 1.0 );")}),[]);return(0,r.jsx)("group",{position:[0,10,-3],ref:e,children:(0,r.jsx)(p.t,{count:600,radius:40,centerRadius:25,newVertShader:t,newFragShader:n})})};var k=n(58385);function I(){var e=C().contract;return(0,r.jsxs)("div",{className:"header-button mt-8 text-center",children:[(0,r.jsx)("strong",{className:"uppercase",children:"Verified smart contract address:"})," ",(0,r.jsx)("a",{href:"".concat(k.gy).concat(e.address),target:"_blank",rel:"noreferrer",className:"underline hover:no-underline",children:e.address})]})}function U(){var e=C().state,t=e.mintPrice,n=e.apeToEth;return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"cta text-white/50 border-white/10 pt-7 border-t text-[10px] md:text-[16px] ",children:"Price per otherdeed"}),(0,r.jsxs)("div",{className:"font-headline uppercase text-[50px] md:text-[80px] lg:text-[100px] leading-none my-2 mb-4",children:[t.toFixed(0)," APE"]}),(0,r.jsxs)("div",{className:"cta text-white/50 pb-7 text-[10px] md:text-[16px]",children:["1 APE = ",n," ETH"]})]})}function R(){var e=(0,a.useState)("")[0];return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-cta uppercase mt-8 text-center",children:"Minting is closed"}),Boolean(e)&&(0,r.jsx)("div",{className:"font-cta mt-3 text-red text-center",children:e})]})}var L=new Intl.NumberFormat("en-US");function D(){var e=C().state,t=e.mintedTotal,n=e.maxPublicSale;return(0,r.jsxs)("div",{className:"mt-2 mb-6 font-cta text-[20px]",children:[t," / ",L.format(n)," otherdeeds minted"]})}var B="https://api.otherside.xyz",z="currentMintPrice";function Q(){var e=C(),t=e.state,n=e.dispatch,r=(0,a.useRef)();(0,a.useEffect)((function(){var e=function(){null===i||void 0===i||i.send(z),null===i||void 0===i||i.send("apePrices")},a=function(e){try{var t=JSON.parse(e.data);if(!t)return;"eth"in t&&n({type:"APE_ETH_PRICE",payload:t.eth})}catch(r){console.error(r)}};if(t.status===m.Active){r.current=new WebSocket("".concat(B.replace("https:","wss:"),"/ws"));var i=r.current;return null===i||void 0===i||i.addEventListener("open",e),null===i||void 0===i||i.addEventListener("message",a),function(){3!==(null===i||void 0===i?void 0:i.readyState)&&(null===i||void 0===i||i.close()),null===i||void 0===i||i.removeEventListener("open",e),null===i||void 0===i||i.removeEventListener("message",a)}}}),[t.status,n]),function(e,t){var n=(0,a.useRef)(e);(0,a.useEffect)((function(){n.current=e}),[e]),(0,a.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){clearInterval(e)}}}),[t])}((function(){var e=r.current;null===e||void 0===e||e.send(z)}),r.current?13e3:null)}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Y,F=Object.freeze((V(Y={},m.Error,(function(){return(0,r.jsx)("div",{className:"h-screen flex justify-center items-center",children:(0,r.jsxs)("h1",{className:"headline-6 md:headline-4 lg:headline-3 text-center",children:["You've stumbled upon a door",(0,r.jsx)("br",{})," where your mind is the key"]})})})),V(Y,m.NotConnected,c.R),V(Y,m.Active,(function(){return Q(),(0,r.jsx)("div",{className:"min-h-screen py-24 backdrop-blur-md w-full select-none flex flex-col md:px-5",children:(0,r.jsxs)("div",{className:"m-auto w-full max-w-[1042px] rounded-t-xl md:rounded-xl bg-black/40 p-4 pt-14 md:p-8 ",children:[(0,r.jsxs)("div",{className:"md:flex md:justify-center",children:[(0,r.jsxs)("section",{className:"basis-1/2 px-12 mb-10 md:mb-0 md:pt-8 md:px-0 md:pr-10 text-center flex flex-col justify-around",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"headline-5 mb-4",children:"Mint"}),(0,r.jsx)(D,{})]}),(0,r.jsx)(U,{})]}),(0,r.jsxs)("section",{className:"basis-1/2 rounded-xl bg-black/60 shadow-2xl shadow-black/40 p-8",children:[(0,r.jsx)("h2",{className:"headline-5 text-center",children:"Mint otherdeeds"}),(0,r.jsx)(R,{})]})]}),(0,r.jsx)(I,{})]})})})),V(Y,m.NotActive,(function(){return(0,r.jsx)("section",{className:"standard-wrapper flex flex-col justify-center items-center min-h-screen",children:(0,r.jsx)("div",{className:"mx-auto my-40 w-full text-center",children:(0,r.jsx)(o.Q,{headline:"# Public sale not active",headlineClass:"headline-4 md:headline-3",alignment:"center"})})})})),V(Y,m.Minting,(function(){return(0,r.jsx)("section",{className:"standard-wrapper flex flex-col justify-center items-center min-h-screen",children:(0,r.jsxs)("div",{className:"mx-auto my-40 w-full text-center",children:[(0,r.jsx)(o.Q,{headline:"# Minting in progress. _Don't refresh._",headlineClass:"headline-4 md:headline-2 text-center",alignment:"center"}),(0,r.jsx)(l.Z,{})]})})})),V(Y,m.Minted,(function(){var e=C().state,t=e.mintedAmount,n=e.mintedPrice;return(0,r.jsxs)("section",{className:"standard-wrapper flex flex-col justify-center items-center min-h-screen",children:[(0,r.jsx)("div",{className:"absolute top-0 left-0 w-screen h-screen -z-10",children:(0,r.jsxs)(f.Xz,{dpr:[1,2],gl:{antialias:!1,alpha:!0,depth:!1,stencil:!1},camera:{position:[0,65,0],fov:90},children:[(0,r.jsx)(a.Suspense,{fallback:null,children:(0,r.jsx)(M,{})}),(0,r.jsx)(h.Q,{})]})}),(0,r.jsxs)("div",{className:"mx-auto my-40 w-full text-center",children:[(0,r.jsx)("h1",{className:"headline-2",children:"Congrats!"}),(0,r.jsxs)("p",{className:"headline-6 my-8",children:[(0,r.jsx)("span",{className:"text-blue-dark",children:t.toString()})," ","Otherdeed minted for"," ",(0,r.jsx)("span",{className:"text-blue-dark",children:n.toString()})," APE"]}),(0,r.jsx)("p",{className:"headline-6",children:"Welcome to the Otherside."}),(0,r.jsx)(d.z,{className:"mt-7 pointer-events-auto",label:"Back to mint",variant:"primary",callback:_})]})]})})),V(Y,m.SoldOut,(function(){return(0,r.jsx)("section",{className:"standard-wrapper flex flex-col justify-center items-center min-h-screen",children:(0,r.jsxs)("div",{className:"mx-auto my-40 w-full text-center",children:[(0,r.jsx)(o.Q,{headline:"# Sold Out",headlineClass:"headline-3",alignment:"center",bodyCopy:"The public sale has sold out. Please visit Opensea to checkout the collection.",bodyAlignment:"text-center"}),(0,r.jsx)(d.z,{className:"mt-7",label:"Buy on Opensea",variant:"primary",href:u.xC})]})})})),V(Y,m.Loading,(function(){return(0,r.jsx)("div",{className:"h-screen flex justify-center items-center",children:(0,r.jsx)(l.Z,{})})})),Y));function G(){var e=C().state.status,t=F[e];return(0,r.jsx)("div",{className:"min-h-screen",children:(0,r.jsx)(s.M,{transitionKey:e||"",timeout:750,onEnter:H,onExit:W,children:(0,r.jsx)(t,{})})})}function H(e){i.p8.from(e,{duration:.75,autoAlpha:0})}function W(e){i.p8.to(e,{duration:.75,autoAlpha:0})}var $=(0,a.memo)(G),X=n(29655),Z=n(53764);function J(){}var K=n(76635);function q(e){var t=e.acceptTerms,n=void 0===t?J:t;return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 z-0 pointer-events-none backdrop-blur-sm"}),(0,r.jsxs)("div",{className:"flex flex-col justify-center items-center relative mx-auto mt-32 w-full max-w-[60ch] md:mb-36 md:rounded-xl bg-black/40 p-4 pt-14 md:p-8 md:pt-8 backdrop-blur-md z-10",children:[(0,r.jsxs)(Z.fC,{children:[(0,r.jsx)(Z.l_,{className:"my-4 relative h-[50vh]",children:(0,r.jsx)(X.D,{className:"font-cta text-[12px] space-y-4 pr-2 landsale-terms-text",children:K.d})}),(0,r.jsx)(Z.LW,{orientation:"vertical",className:"scroll-area-bar",forceMount:!0,children:(0,r.jsx)(Z.bU,{className:"scroll-area-thumb"})})]}),(0,r.jsx)("button",{className:"mx-auto w-72 button-primary",onClick:n,children:"AGREE AND CONTINUE"})]})]})}var ee=n(45754),te=n(123);function ne(e,t){var n=(0,a.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(r){return console.error(r),t}})),r=n[0],i=n[1];return[r,function(t){try{var n=(a=t,(null!=(s=Function)&&"undefined"!==typeof Symbol&&s[Symbol.hasInstance]?s[Symbol.hasInstance](a):a instanceof s)?t(r):t);i(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(c){console.error(c)}var a,s}]}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,c=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(l){c=!0,a=l}finally{try{s||null==n.return||n.return()}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ie=function(){var e=ae(ne("land-terms",!1),2),t=e[0],n=e[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(te.d,{className:"absolute w-full h-screen after:h-[10vh]",mediaClassName:"block absolute w-full h-full object-cover",fadeBottom:!0,fadeTop:!1,src:["/assets/buy/dock.mp4"],media:"img"}),(0,r.jsx)("div",{className:"min-h-screen",children:t?(0,r.jsx)(O,{children:(0,r.jsx)($,{})}):(0,r.jsx)(q,{acceptTerms:function(){return n(!0)}})}),(0,r.jsx)(ee.$,{})]})}}},function(e){e.O(0,[737,655,216,955,866,861,546,764,790,210,635,774,888,179],(function(){return t=81240,e(e.s=t);var t}));var t=e.O();_N_E=t}]);